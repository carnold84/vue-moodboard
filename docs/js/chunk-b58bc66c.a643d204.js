(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b58bc66c"],{"0674":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"picture-wrapper",style:{height:t.height,width:t.width}},[t.src&&""===t.imageUrl?n("app-loading"):t.imageUrl?n("img",{staticClass:"picture-image",class:t.fillType,style:{height:t.height,width:t.width},attrs:{src:t.imageUrl}}):t._e()],1)},r=[],o=(n("caad"),n("2532"),n("29e5")),a={FILL:"fill",FIT:"fit"},s={name:"app-picture",components:{AppLoading:o["a"]},data:function(){return{image:void 0,imageUrl:""}},destroyed:function(){this.image&&this.image.removeEventListener("load",this.onImageLoaded,!1)},methods:{onImageLoaded:function(){this.imageUrl=this.image.src,this.image.removeEventListener("load",this.onImageLoaded,!1)}},mounted:function(){this.src&&(this.image=new Image(this.width,this.height),this.image.addEventListener("load",this.onImageLoaded,!1),this.image.src=this.src)},props:{fillType:{default:a.FILL,type:String,validator:function(t){return[a.FILL,a.FIT].includes(t)}},height:{default:"100%",type:String},src:{type:String},width:{default:"100%",type:String}}},c=s,u=(n("35bd"),n("2877"));n.d(e,"a",(function(){return a}));var d=Object(u["a"])(c,i,r,!1,null,"36d9a2a2",null);e["b"]=d.exports},"0bfd":function(t,e,n){"use strict";var i=n("7cdb"),r=n.n(i);r.a},"12f8":function(t,e,n){"use strict";var i=n("7c98"),r=n.n(i);r.a},"14b7":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"a-action-bar"},[n("div",{staticClass:"tabs"},[t.tabs?n("div",t._l(t.tabs,(function(e){return n("router-link",{key:e.id,staticClass:"tab",attrs:{to:e.to}},[t._v(" "+t._s(e.label)+" ")])})),1):t._e()]),n("div",{staticClass:"controls"},[t._t("controls")],2)])},r=[],o={name:"a-action-bar",props:{tabs:{type:Array}}},a=o,s=(n("a991"),n("2877")),c=Object(s["a"])(a,i,r,!1,null,"0c2ee1ef",null);e["a"]=c.exports},"2c72":function(t,e,n){},"35bd":function(t,e,n){"use strict";var i=n("e693"),r=n.n(i);r.a},"3d99":function(t,e,n){},"4df4":function(t,e,n){"use strict";var i=n("0366"),r=n("7b0b"),o=n("9bdd"),a=n("e95a"),s=n("50c4"),c=n("8418"),u=n("35a1");t.exports=function(t){var e,n,d,f,l,h,p=r(t),v="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,b=void 0!==g,_=u(p),y=0;if(b&&(g=i(g,m>2?arguments[2]:void 0,2)),void 0==_||v==Array&&a(_))for(e=s(p.length),n=new v(e);e>y;y++)h=b?g(p[y],y):p[y],c(n,y,h);else for(f=_.call(p),l=f.next,n=new v;!(d=l.call(f)).done;y++)h=b?o(f,g,[d.value,y],!0):d.value,c(n,y,h);return n.length=y,n}},"63f0":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"a-image-link",attrs:{to:t.to}},[n("a-picture",{staticClass:"a-image-link-picture",attrs:{height:t.imageHeight,src:t.imageUrl}}),t.title?n("h3",{staticClass:"a-image-link-title"},[t._v(t._s(t.title))]):t._e()],1)},r=[],o=n("0674"),a={name:"a-image-link",components:{APicture:o["b"]},props:{imageHeight:{default:"200px",type:String},imageUrl:{type:String},title:{type:String},to:{type:[Object,String]}}},s=a,c=(n("dfe7"),n("2877")),u=Object(c["a"])(s,i,r,!1,null,"66bff3ae",null);e["a"]=u.exports},"6cc0":function(t,e,n){},"6dd8":function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,r=function(){return"undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)}}(),a=2;function s(t,e){var n=!1,i=!1,r=0;function s(){n&&(n=!1,t()),i&&u()}function c(){o(s)}function u(){var t=Date.now();if(n){if(t-r<a)return;i=!0}else n=!0,i=!1,setTimeout(c,e);r=t}return u}var c=20,u=["top","right","bottom","left","width","height","size","weight"],d="undefined"!==typeof MutationObserver,f=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),c)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,i=u.some((function(t){return!!~n.indexOf(t)}));i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},h=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||r},p=A(0,0,0,0);function v(t){return parseFloat(t)||0}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){var i=t["border-"+n+"-width"];return e+v(i)}),0)}function g(t){for(var e=["top","right","bottom","left"],n={},i=0,r=e;i<r.length;i++){var o=r[i],a=t["padding-"+o];n[o]=v(a)}return n}function b(t){var e=t.getBBox();return A(0,0,e.width,e.height)}function _(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var i=h(t).getComputedStyle(t),r=g(i),o=r.left+r.right,a=r.top+r.bottom,s=v(i.width),c=v(i.height);if("border-box"===i.boxSizing&&(Math.round(s+o)!==e&&(s-=m(i,"left","right")+o),Math.round(c+a)!==n&&(c-=m(i,"top","bottom")+a)),!w(t)){var u=Math.round(s+o)-e,d=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(d)&&(c-=d)}return A(r.left,r.top,s,c)}var y=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"===typeof t.getBBox}}();function w(t){return t===h(t).document.documentElement}function O(t){return i?y(t)?b(t):_(t):p}function E(t){var e=t.x,n=t.y,i=t.width,r=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return l(a,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),a}function A(t,e,n,i){return{x:t,y:e,width:n,height:i}}var j=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=A(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=O(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),S=function(){function t(t,e){var n=E(e);l(this,{target:t,contentRect:n})}return t}(),x=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new j(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new S(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),k="undefined"!==typeof WeakMap?new WeakMap:new n,M=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),i=new x(e,n,this);k.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach((function(t){M.prototype[t]=function(){var e;return(e=k.get(this))[t].apply(e,arguments)}}));var C=function(){return"undefined"!==typeof r.ResizeObserver?r.ResizeObserver:M}();e["a"]=C}).call(this,n("c8ba"))},"7c98":function(t,e,n){},"7cdb":function(t,e,n){},a630:function(t,e,n){var i=n("23e7"),r=n("4df4"),o=n("1c7e"),a=!o((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:a},{from:r})},a991:function(t,e,n){"use strict";var i=n("2c72"),r=n.n(i);r.a},ca0e:function(t,e,n){},d28b:function(t,e,n){var i=n("746f");i("iterator")},d790:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view-wrapper"},[void 0===t.project||t.isDeleting?n("app-loading"):t._e(),t.project&&!t.isDeleting?n("div",[n("view-header",{attrs:{description:t.project.description,options:t.options,sectionName:"Project",title:t.project.name}})],1):t._e(),t.project&&!t.isDeleting?n("div",[n("div",{staticClass:"tabs"},[n("a-action-bar",{attrs:{tabs:t.tabs},scopedSlots:t._u([{key:"controls",fn:function(){return[n("a-button",{attrs:{isPrimary:!0,to:{name:"project-add-image",params:{id:t.project.id}}}},[n("a-add-icon"),n("span",[t._v("Add Image")])],1)]},proxy:!0}],null,!1,401755482)})],1)]):t._e(),n("div",{staticClass:"view-content"},[t.project&&!t.isDeleting&&void 0===t.images?n("div",[n("app-loading")],1):t._e(),t.project&&!t.isDeleting&&t.images&&0===t.images.length?n("a-message-panel",{attrs:{text:"You haven't got any images."}},[n("a-button",{attrs:{isPrimary:!0,to:{name:"project-add-image",params:{id:t.project.id}}}},[n("a-add-icon"),n("span",[t._v("Add One!")])],1)],1):t._e(),t.project&&!t.isDeleting&&t.images&&t.images.length>0?n("a-image-grid",{attrs:{images:t.images}}):t._e()],1)],1)},r=[],o=(n("99af"),n("d81d"),n("b0c0"),n("96cf"),n("c964")),a=n("d938"),s=n("8086"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"a-image-grid"},[void 0===t.images?n("app-loading"):n("div",{staticClass:"grid",class:t.breakpoints},[n("resizable",{on:{resize:t.onResize}}),t._l(t.images,(function(t){return n("a-image-link",{key:t.id,attrs:{imageUrl:t.imageUrl,title:t.title,to:t.to}})}))],2)],1)},u=[],d=n("63f0"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"main",staticClass:"resizable"})},l=[];n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0"),n("a630"),n("fb6a"),n("25f0");function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function p(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function v(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=p(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i["return"]||i["return"]()}finally{if(a)throw r}}}}var m=n("6dd8"),g={name:"a-tag",mounted:function(){var t=this,e=this.$refs.main.getBoundingClientRect(),n=e.width,i=e.height;this.$emit("resize",{height:i,width:n});var r=function(e,n){var i,r=v(e);try{for(r.s();!(i=r.n()).done;){var o=i.value,a=o.contentRect,s=a.width,c=a.height;t.$emit("resize",{height:c,width:s})}}catch(u){r.e(u)}finally{r.f()}},o=new m["a"](r);o.observe(this.$refs.main)}},b=g,_=(n("0bfd"),n("2877")),y=Object(_["a"])(b,f,l,!1,null,"4185e4ec",null),w=y.exports,O={name:"a-image-grid",components:{AImageLink:d["a"],Resizable:w},data:function(){return{breakpoints:[]}},methods:{onResize:function(t){var e=t.width,n=[];e>400&&n.push("sm"),e>670&&n.push("md"),e>990&&n.push("lg"),e>990&&n.push("xl"),this.breakpoints=n}},props:{images:{type:Array}}},E=O,A=(n("de81"),Object(_["a"])(E,c,u,!1,null,"0bfce268",null)),j=A.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"a-message-panel"},[n("h3",{staticClass:"text"},[t._v(t._s(t.text))]),t._t("default")],2)},x=[],k={name:"a-message-panel",props:{text:{type:String}}},M=k,C=(n("e064"),Object(_["a"])(M,S,x,!1,null,"f90f328e",null)),I=C.exports,L=(n("0674"),n("29e5")),D=n("14b7"),R=n("c9a7"),T={name:"project",components:{AAddIcon:a["a"],AImageGrid:j,AButton:s["a"],AMessagePanel:I,AppLoading:L["a"],AActionBar:D["a"],ViewHeader:R["a"]},computed:{id:function(){return this.$route.params.id},images:function(){var t=this;if(this.project){var e=this.$store.getters["images/imagesById"](this.project.imageIds);return void 0===e?e:e.map((function(e){var n=e.id,i=e.name;return{id:n,imageUrl:t.thumbUrl(e),title:i,to:{name:"project-image",params:{id:t.project.id,imageId:n}}}}))}},options:function(){if(this.project)return[{callback:this.onDelete,id:"delete",label:"Delete"}]},project:function(){return this.$store.getters["projects/project"](this.id)},tabs:function(){return[{id:"images-tab",label:"Images",to:{name:"project",params:{id:this.project?this.project.id:null,tab:"images"}}}]}},data:function(){return{isDeleting:!1}},methods:{onDelete:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isDeleting=!0,e.next=3,t.$store.dispatch("projects/delete",t.project);case 3:n=e.sent,n.success?t.$router.push("/"):console.error(n.message);case 5:case"end":return e.stop()}}),e)})))()},thumbUrl:function(t){if(t.format){var e="https://res.cloudinary.com/carnold/image/upload";return"".concat(e,"/w_260/").concat(t.fileName,".").concat(t.format)}return t.url}}},$=T,z=(n("12f8"),Object(_["a"])($,i,r,!1,null,"7b4b2ee6",null));e["default"]=z.exports},de81:function(t,e,n){"use strict";var i=n("3d99"),r=n.n(i);r.a},dfe7:function(t,e,n){"use strict";var i=n("6cc0"),r=n.n(i);r.a},e01a:function(t,e,n){"use strict";var i=n("23e7"),r=n("83ab"),o=n("da84"),a=n("5135"),s=n("861d"),c=n("9bf2").f,u=n("e893"),d=o.Symbol;if(r&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var f={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof l?new d(t):void 0===t?d():d(t);return""===t&&(f[e]=!0),e};u(l,d);var h=l.prototype=d.prototype;h.constructor=l;var p=h.toString,v="Symbol(test)"==String(d("test")),m=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(f,t))return"";var n=v?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:l})}},e064:function(t,e,n){"use strict";var i=n("ca0e"),r=n.n(i);r.a},e693:function(t,e,n){},fb6a:function(t,e,n){"use strict";var i=n("23e7"),r=n("861d"),o=n("e8b5"),a=n("23cb"),s=n("50c4"),c=n("fc6a"),u=n("8418"),d=n("b622"),f=n("1dde"),l=n("ae40"),h=f("slice"),p=l("slice",{ACCESSORS:!0,0:0,1:2}),v=d("species"),m=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!h||!p},{slice:function(t,e){var n,i,d,f=c(this),l=s(f.length),h=a(t,l),p=a(void 0===e?l:e,l);if(o(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(f,h,p);for(i=new(void 0===n?Array:n)(g(p-h,0)),d=0;h<p;h++,d++)h in f&&u(i,d,f[h]);return i.length=d,i}})}}]);
//# sourceMappingURL=chunk-b58bc66c.a643d204.js.map