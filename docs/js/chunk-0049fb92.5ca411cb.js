(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0049fb92"],{"0674":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"picture-wrapper",style:{height:e.height,width:e.width}},[e.src&&""===e.imageUrl?i("app-loading"):e.imageUrl?i("img",{staticClass:"picture-image",class:e.fillType,style:{height:e.height,width:e.width},attrs:{src:e.imageUrl}}):e._e()],1)},r=[],n=(i("caad"),i("2532"),i("29e5")),s={FILL:"fill",FIT:"fit"},o={name:"app-picture",components:{AppLoading:n["a"]},data:function(){return{image:void 0,imageUrl:""}},destroyed:function(){this.image&&this.image.removeEventListener("load",this.onImageLoaded,!1)},methods:{onImageLoaded:function(){this.imageUrl=this.image.src,this.image.removeEventListener("load",this.onImageLoaded,!1)}},mounted:function(){this.src&&(this.image=new Image(this.width,this.height),this.image.addEventListener("load",this.onImageLoaded,!1),this.image.src=this.src)},props:{fillType:{default:s.FILL,type:String,validator:function(e){return[s.FILL,s.FIT].includes(e)}},height:{default:"100%",type:String},src:{type:String},width:{default:"100%",type:String}}},c=o,m=(i("35bd"),i("2877"));i.d(t,"a",(function(){return s}));var u=Object(m["a"])(c,a,r,!1,null,"36d9a2a2",null);t["b"]=u.exports},"35bd":function(e,t,i){"use strict";var a=i("e693"),r=i.n(a);r.a},"91a0":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"view-wrapper"},[void 0===e.image||void 0===e.project||!0===e.isRemoving?i("app-loading"):e.image&&e.project&&!1===e.isRemoving?i("div",{staticClass:"image-container"},[i("view-header",{staticClass:"image-view-header",attrs:{description:e.image.description,"on-back":e.backUrl,options:e.options,"section-name":"Image",title:e.image.name}}),i("div",{staticClass:"image-content"},[i("a",{attrs:{href:e.imageUrl,target:"_blank",title:"Click to view full image"}},[i("a-picture",{staticClass:"image",attrs:{alt:e.image.name,"fill-type":e.TYPES.FIT,src:e.imageUrl}})],1)])],1):e._e()],1)},r=[],n=(i("99af"),i("b0c0"),i("96cf"),i("c964")),s=i("0674"),o=i("29e5"),c=i("c9a7"),m={name:"project-image",components:{APicture:s["b"],AppLoading:o["a"],ViewHeader:c["a"]},computed:{backUrl:function(){return"/projects/".concat(this.id)},id:function(){return this.$route.params.id},imageId:function(){return this.$route.params.imageId},image:function(){return this.$store.getters["images/image"](this.imageId)},imageUrl:function(){if(this.image.format){var e="https://res.cloudinary.com/carnold/image/upload";return"".concat(e,"/w_1200/").concat(this.image.fileName,".").concat(this.image.format)}return this.image.url},options:function(){if(this.image&&this.project)return[{callback:this.onDelete,id:"delete",label:"Delete ".concat(this.image.name)},{callback:this.onRemove,id:"remove",label:"Remove from ".concat(this.project.name)}]},project:function(){return this.$store.getters["projects/project"](this.id)}},data:function(){return{isRemoving:!1,TYPES:s["a"]}},methods:{onDelete:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isRemoving=!0,t.next=3,e.$store.dispatch("images/delete",e.image);case 3:i=t.sent,i.success?e.$router.push(e.backUrl):console.error(i.message);case 5:case"end":return t.stop()}}),t)})))()},onRemove:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isRemoving=!0,t.next=3,e.$store.dispatch("images/remove",{image:e.image,project:e.project});case 3:i=t.sent,i.success?e.$router.push(e.backUrl):console.error(i.message);case 5:case"end":return t.stop()}}),t)})))()}}},u=m,l=(i("94d2"),i("2877")),g=Object(l["a"])(u,a,r,!1,null,"7680e937",null);t["default"]=g.exports},"94d2":function(e,t,i){"use strict";var a=i("a21e"),r=i.n(a);r.a},a21e:function(e,t,i){},e693:function(e,t,i){}}]);
//# sourceMappingURL=chunk-0049fb92.5ca411cb.js.map