(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-108fc733"],{"0674":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"picture-wrapper",style:{height:e.height,width:e.width}},[e.src&&""===e.imageUrl?i("app-loading"):e.imageUrl?i("img",{staticClass:"picture-image",class:e.fillType,style:{border:e.border},attrs:{src:e.imageUrl}}):e._e()],1)},r=[],n=(i("caad"),i("2532"),i("29e5")),s={FILL:"fill",FIT:"fit"},c={name:"app-picture",components:{AppLoading:n["a"]},data:function(){return{image:void 0,imageUrl:""}},destroyed:function(){this.image&&this.image.removeEventListener("load",this.onImageLoaded,!1)},methods:{onImageLoaded:function(){this.imageUrl=this.image.src,this.image.removeEventListener("load",this.onImageLoaded,!1)}},mounted:function(){this.src&&(this.image=new Image(this.width,this.height),this.image.addEventListener("load",this.onImageLoaded,!1),this.image.src=this.src)},props:{border:{type:String},fillType:{default:s.FILL,type:String,validator:function(e){return[s.FILL,s.FIT].includes(e)}},height:{default:"100%",type:String},src:{type:String},width:{default:"100%",type:String}}},o=c,m=(i("49d1"),i("2877"));i.d(t,"a",(function(){return s}));var u=Object(m["a"])(o,a,r,!1,null,"0c446053",null);t["b"]=u.exports},"0bf6":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-container"},[i("view-header",{staticClass:"image-view-header",attrs:{description:e.image.description,"on-back":e.backUrl,options:e.options,title:e.image.name}}),i("div",{staticClass:"image-content"},[i("a",{attrs:{href:e.imageUrl,rel:"noreferrer",target:"_blank",title:"Click to view full image"}},[i("a-picture",{staticClass:"image",attrs:{alt:e.image.name,border:"1px solid var(--theme4)","fill-type":e.TYPES.FIT,src:e.imageUrl}})],1)])],1)},r=[],n=(i("99af"),i("b0c0"),i("96cf"),i("c964")),s=i("0674"),c=i("c9a7"),o={name:"image-view",components:{APicture:s["b"],ViewHeader:c["a"]},computed:{imageUrl:function(){if(this.image.format){var e="https://res.cloudinary.com/carnold/image/upload";return"".concat(e,"/w_1200/").concat(this.image.fileName,".").concat(this.image.format)}return this.image.url},options:function(){var e=[{callback:this.onDelete,id:"delete",label:"Delete ".concat(this.image.name)}];return this.image&&this.project?[].concat(e,[{callback:this.onRemove,id:"remove",label:"Remove from ".concat(this.project.name)}]):this.image&&!this.project?e:void 0}},data:function(){return{isRemoving:!1,TYPES:s["a"]}},methods:{onDelete:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isRemoving=!0,t.next=3,e.$store.dispatch("images/delete",e.image);case 3:i=t.sent,i.success?e.$router.push(e.backUrl):console.error(i.message);case 5:case"end":return t.stop()}}),t)})))()},onRemove:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isRemoving=!0,t.next=3,e.$store.dispatch("images/remove",{image:e.image,project:e.project});case 3:i=t.sent,i.success?e.$router.push(e.backUrl):console.error(i.message);case 5:case"end":return t.stop()}}),t)})))()}},props:{backUrl:{type:[Object,String]},image:{required:!0,type:Object},project:{type:Object}}},m=o,u=(i("40b5"),i("2877")),l=Object(u["a"])(m,a,r,!1,null,"1f4c7c27",null);t["a"]=l.exports},2727:function(e,t,i){},"40b5":function(e,t,i){"use strict";var a=i("9825"),r=i.n(a);r.a},"49d1":function(e,t,i){"use strict";var a=i("2727"),r=i.n(a);r.a},"91a0":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"view-wrapper"},[void 0===e.image||void 0===e.project||!0===e.isRemoving?i("app-loading"):e.image&&e.project&&!1===e.isRemoving?i("image-view",{attrs:{backUrl:e.backUrl,image:e.image,project:e.project}}):e._e()],1)},r=[],n=i("29e5"),s=i("0bf6"),c={name:"project-image",components:{AppLoading:n["a"],ImageView:s["a"]},computed:{backUrl:function(){return"/projects/".concat(this.id)},id:function(){return this.$route.params.id},imageId:function(){return this.$route.params.imageId},image:function(){return this.$store.getters["images/find"](this.imageId)},project:function(){return this.$store.getters["projects/find"](this.id)}},data:function(){return{isRemoving:!1}}},o=c,m=i("2877"),u=Object(m["a"])(o,a,r,!1,null,"578ab6d2",null);t["default"]=u.exports},9825:function(e,t,i){}}]);
//# sourceMappingURL=chunk-108fc733.98a754df.js.map