(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73e7caa4"],{"459f":function(e,t,i){"use strict";var n=i("7413"),a=i.n(n);a.a},7413:function(e,t,i){},c415:function(e,t,i){"use strict";var n=i("c98b"),a=i.n(n);a.a},c98b:function(e,t,i){},d790:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"view-wrapper"},[void 0===e.project||e.isDeleting?i("app-loading"):e._e(),e.project&&!e.isDeleting?i("div",[i("view-header",{attrs:{description:e.project.description,options:e.options,sectionName:"Project",title:e.project.name}})],1):e._e(),e.project&&!e.isDeleting?i("div",[i("div",{staticClass:"tabs"},[i("a-action-bar",{attrs:{currentTabId:e.currentTabId,tabs:e.tabs},scopedSlots:e._u([{key:"controls",fn:function(){return["images"===e.currentTabId?i("a-button",{attrs:{isPrimary:!0,to:{name:"project-add-image",params:{id:e.project.id}}}},[i("a-add-icon"),i("span",[e._v("Add Image")])],1):e._e(),"links"===e.currentTabId?i("a-button",{attrs:{isPrimary:!0,to:{name:"project-add-link",params:{id:e.project.id}}}},[i("a-add-icon"),i("span",[e._v("Add Link")])],1):e._e()]},proxy:!0}],null,!1,1751746026)})],1)]):e._e(),i("div",{staticClass:"view-content"},["images"===e.currentTabId?i("div",[e.project&&!e.isDeleting&&void 0===e.images?i("div",[i("app-loading")],1):e._e(),e.project&&!e.isDeleting&&e.images&&0===e.images.length?i("a-message-panel",{attrs:{text:"You haven't got any images."}},[i("a-button",{attrs:{isPrimary:!0,to:{name:"project-add-image",params:{id:e.project.id}}}},[i("a-add-icon"),i("span",[e._v("Add One!")])],1)],1):e._e(),e.project&&!e.isDeleting&&e.images&&e.images.length>0?i("a-image-grid",{attrs:{images:e.images}}):e._e()],1):e._e(),"links"===e.currentTabId?i("div",[e.project&&!e.isDeleting&&void 0===e.links?i("div",[i("app-loading")],1):e._e(),e.project&&!e.isDeleting&&e.links&&0===e.links.length?i("a-message-panel",{attrs:{text:"You haven't got any links."}},[i("a-button",{attrs:{isPrimary:!0,to:{name:"project-add-link",params:{id:e.project.id}}}},[i("a-add-icon"),i("span",[e._v("Add One!")])],1)],1):e._e(),e.project&&!e.isDeleting&&e.links&&e.links.length>0?i("links-list",{attrs:{columns:e.linkTableColumns,links:e.links},on:{delete:e.onDeleteLink}}):e._e()],1):e._e()])],1)},a=[],s=(i("99af"),i("4de4"),i("4160"),i("b0c0"),i("159b"),i("96cf"),i("c964")),r=i("14b7"),o=i("d938"),c=i("8086"),l=i("36f8"),d=i("08f4"),u=(i("0674"),i("29e5")),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"a-table",class:e.breakpoints},[i("resizable",{on:{resize:e.onResize}}),e._l(e.links,(function(t){return i("div",{key:t.id,staticClass:"row",style:e.isRow?{gridTemplateColumns:"repeat("+(e.columns.length+1)+", 1fr)"}:{gridTemplateRows:"repeat("+(e.columns.length+1)+", 1fr)"}},[e._l(e.columns,(function(n){return i("div",{key:n.key,staticClass:"cell",class:{"has-emphasis":!0===n.hasEmphasis,wrap:void 0===n.shouldWrap||n.shouldWrap},style:{minWidth:n.width}},[n.isLink?i("a",{staticClass:"link",attrs:{href:t[n.key],rel:"noreferrer",target:"_blank"}},[e._v(" "+e._s(t[n.key])+" ")]):i("span",{staticClass:"text"},[e._v(" "+e._s(t[n.key])+" ")])])})),i("div",{staticClass:"cell controls"},[i("a-button",{on:{click:function(i){return e.$emit("delete",t.id)}}},[i("a-block-icon",{attrs:{height:"18",width:"18"}}),e._v(" Delete ")],1)],1)],2)}))],2)},m=[],h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-icon",{attrs:{height:e.height,width:e.width}},[i("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),i("path",{attrs:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}})])},g=[],f=i("388d"),k={name:"a-block-icon",components:{AIcon:f["a"]},props:{height:{default:"20",type:String},width:{default:"20",type:String}}},b=k,v=i("2877"),j=Object(v["a"])(b,h,g,!1,null,"286b5d6e",null),_=j.exports,w=i("f3d1"),y={name:"links-list",components:{ABlockIcon:_,AButton:c["a"],Resizable:w["a"]},data:function(){return{breakpoints:[],isRow:!1}},methods:{onResize:function(e){var t=e.width,i=[];this.isRow=t>670,this.isRow&&i.push("md"),this.breakpoints=i}},props:{columns:{type:Array},links:{default:function(){return[]},type:Array},onDelete:{type:Function}}},D=y,A=(i("c415"),Object(v["a"])(D,p,m,!1,null,"762cb981",null)),I=A.exports,C=i("c9a7"),x={name:"project",components:{AActionBar:r["a"],AAddIcon:o["a"],AImageGrid:l["a"],AButton:c["a"],AMessagePanel:d["a"],AppLoading:u["a"],LinksList:I,ViewHeader:C["a"]},computed:{currentTabId:function(){return this.$route.query.tab||"images"},id:function(){return this.$route.params.id},images:function(){var e=this;if(this.project){var t=this.$store.getters["images/findAll"](this.project.imageIds),i=[];return t.forEach((function(t){if(t){var n=t.id,a=t.name;i.push({id:n,imageUrl:e.thumbUrl(t),title:a,to:{name:"project-image",params:{id:e.project.id,imageId:n}}})}})),i}},links:function(){if(this.project){var e=this.$store.getters["links/findAll"](this.project.linkIds);return e.filter((function(e){return void 0!==e}))}},options:function(){if(this.project)return[{callback:this.onDeleteProject,id:"delete",label:"Delete"}]},project:function(){return this.$store.getters["projects/find"](this.id)},tabs:function(){return[{id:"images",label:"Images",to:{name:"project",params:{id:this.project?this.project.id:null},query:{tab:"images"}}},{id:"links",label:"Links",to:{name:"project",params:{id:this.project?this.project.id:null},query:{tab:"links"}}}]}},data:function(){return{isDeleting:!1,linkTableColumns:[{hasEmphasis:!0,key:"name",label:"Name"},{key:"description",label:"Description"},{key:"url",label:"Link",isLink:!0,shouldWrap:!1,width:"340px"}]}},methods:{onDeleteProject:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isDeleting=!0,t.next=3,e.$store.dispatch("projects/delete",e.project);case 3:i=t.sent,i.success?e.$router.push("/"):console.error(i.message);case 5:case"end":return t.stop()}}),t)})))()},onDeleteLink:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.isDeleting=!0,n=t.links.filter((function(t){return t.id===e}))[0],i.next=4,t.$store.dispatch("links/delete",n);case 4:a=i.sent,a.success?t.isDeleting=!1:console.error(a.message);case 6:case"end":return i.stop()}}),i)})))()},thumbUrl:function(e){if(e.format){var t="https://res.cloudinary.com/carnold/image/upload";return"".concat(t,"/w_260/").concat(e.fileName,".").concat(e.format)}return e.url}}},L=x,R=(i("459f"),Object(v["a"])(L,n,a,!1,null,"5f6525ca",null));t["default"]=R.exports}}]);
//# sourceMappingURL=chunk-73e7caa4.e97ade1b.js.map